{% extends 'base.html.twig' %}

{% block body %}
<h4>Commentaires</h4>
{% for comment in comments %}
      {% if comment.getParentId() == null and comment.getIsVisible() %}
        <b>{{ comment.prenom }}&nbsp;{{ comment.nom}}</b>
        &nbsp;&nbsp;
        {{ comment.content }}
        &nbsp;&nbsp;
        <a href="{{id}}/comment/{{comment.id}}/supprimer" style="color:red">x</a>
        <br />
        <a href="/get/post/{{id}}/comment/{{comment.id}}/like" style="color:blue">Like</a>
        ({{comment.likes}})
        &nbsp;&nbsp;
        <a href="/get/post/{{id}}/comment/{{comment.id}}/repondre" style="color:blue; text-decoration:None">Repondre</a>
        <br /><br />

      {% for subcomment in comments %}
          {% if subcomment.getParentId() == comment.id and subcomment.getIsVisible() %}
            <b>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              {{ subcomment.prenom }}&nbsp;{{ subcomment.nom}}
            </b>
            &nbsp;&nbsp;
            {{ subcomment.content }}
            &nbsp;&nbsp;
            <a href="/get/post/{{id}}/comment/{{subcomment.id}}/supprimer" style="color:red">
              x
            </a>
            <br />
            <a href="/get/post/{{id}}/comment/{{subcomment.id}}/like" style="color:blue; text-decoration:None">
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Like
            </a>({{subcomment.likes}})
            &nbsp;&nbsp;
            <br /><br />
          {% endif %}
      {% endfor %}
      {% if comment.id == comment_id %}
        {{ form(repondreForm) }}
        <a href="/get/post/{{id}}" style="color: red"> Annuler </a>
        <br /> <br /><br />
      {% endif %}
    {% endif %}
{% endfor %}

{% endblock %}
